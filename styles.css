:root{
    --bg: #fffdf7;
    --ink: #16130f;
    --text: rgba(22,19,15,.92);
    --muted: rgba(22,19,15,.64);

    --champagne: #b8a78e;
    --champagne-2: #a48e6f;
    --gold: rgba(164,142,111,.95);

    --card: rgba(255,255,255,.78);
    --card2: rgba(255,255,255,.58);
    --border: rgba(22,19,15,.11);

    --shadow: 0 18px 60px rgba(22,19,15,.12);
    --shadowSoft: 0 10px 26px rgba(22,19,15,.08);

    --r-xl: 22px;
    --r-lg: 18px;
    --r-md: 14px;

    --serif: "Playfair Display", serif;
    --body: "Source Serif 4", ui-serif, Georgia, "Times New Roman", serif;

    --container: 1040px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ scroll-behavior: auto; } /* важно: без глобального smooth */

body{
    margin:0;
    font-family: var(--body);
    color: var(--text);
    background:
            radial-gradient(1200px 800px at 20% -10%, rgba(184,167,142,.16), transparent 55%),
            radial-gradient(900px 600px at 90% 10%, rgba(184,167,142,.09), transparent 55%),
            var(--bg);
    line-height: 1.75;
    font-size: 18px;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    font-kerning: normal;
    font-feature-settings: "liga" 1, "kern" 1;
}

@media (max-width: 520px){
    body{ font-size: 17px; }
}

/* subtle grain */
.grain{
    position: fixed;
    inset: 0;
    pointer-events: none;
    opacity: .07;
    mix-blend-mode: multiply;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
}

.container{
    width: min(var(--container), calc(100% - 36px));
    margin: 0 auto;
}

.main{ padding-bottom: 24px; }

/* Sections: визуальное разделение без трюков со скроллом */
.section{
    padding: 92px 0;
    position: relative;
}
@media (max-width: 720px){
    .section{ padding: 78px 0; }
}

/* мягкие “перетекания” фона между секциями */
.section::before{
    content:"";
    position:absolute;
    left:0; right:0;
    top:-1px;
    height: 54px;
    pointer-events:none;
    background: linear-gradient(180deg, rgba(255,255,255,0), rgba(184,167,142,.06));
}
.section::after{
    content:"";
    position:absolute;
    left:0; right:0;
    bottom:-1px;
    height: 54px;
    pointer-events:none;
    background: linear-gradient(0deg, rgba(255,255,255,0), rgba(184,167,142,.06));
}

/* reveal animations: без blur */
.js-reveal{
    opacity: 0;
    transform: translateY(18px);
    transition: opacity .65s ease, transform .65s ease;
    will-change: opacity, transform;
}
.js-reveal.is-in{
    opacity: 1;
    transform: translateY(0);
}
@media (prefers-reduced-motion: reduce){
    .js-reveal{ transition: none; opacity: 1; transform: none; }
}

/* typography */
h1,h2{ margin:0; }
h2{
    font-family: var(--serif);
    font-weight: 700;
    font-size: clamp(30px, 5.4vw, 56px);
    letter-spacing: -0.02em;
    color: rgba(22,19,15,.96);
    text-wrap: balance;
}

.lead{
    margin: 14px auto 0;
    max-width: 780px;
    color: var(--muted);
    font-size: 18px;
    line-height: 1.85;
}
@media (max-width: 520px){
    .lead{ font-size: 17px; }
}
.lead--center{ text-align:center; }

.sectionHead{
    text-align: center;
    margin-bottom: 28px;
}
.sectionHead::after{
    content:"";
    display:block;
    width: 84px;
    height: 2px;
    background: rgba(184,167,142,.70);
    margin: 18px auto 0;
    border-radius: 99px;
    opacity: .9;
}

/* kicker */
.kicker{
    display:flex;
    align-items:center;
    justify-content:center;
    gap: 12px;
    margin-bottom: 10px;
}
.kicker__line{
    width: 56px;
    height: 1px;
    background: rgba(184,167,142,.70);
    transform-origin: center;
    animation: kickerBreath 3.8s ease-in-out infinite;
}
.kicker__line:first-child{ animation-delay: .2s; }
.kicker__line:last-child{ animation-delay: 1.1s; }

.kicker__text{
    font-size: 12px;
    letter-spacing: .20em;
    text-transform: uppercase;
    color: var(--gold);
}
@keyframes kickerBreath{
    0%,100%{ transform: scaleX(1); opacity: .85; }
    50%{ transform: scaleX(1.06); opacity: 1; }
}
.kicker--light .kicker__line{ background: rgba(255,255,255,.55); }
.kicker--light .kicker__text{ color: rgba(255,255,255,.88); }

/* links */
a{ color: inherit; }
a:hover{ opacity: .92; }

/* buttons */
.btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap: 10px;
    padding: 12px 16px;
    border-radius: 999px;
    text-decoration:none;
    font-weight: 600;
    font-size: 14px;
    border: 1px solid var(--border);
    background: var(--card);
    color: rgba(22,19,15,.92);
    box-shadow: var(--shadowSoft);
    transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
}
.btn:active{ transform: translateY(1px); }
.btn--primary{
    background: linear-gradient(135deg, var(--champagne), var(--champagne-2));
    color: #fff;
    border-color: rgba(255,255,255,.25);
    box-shadow: 0 18px 40px rgba(184,167,142,.24);
}
.btn--ghost{
    background: rgba(255,255,255,.58);
}
.btn--sm{
    padding: 10px 14px;
    font-size: 13px;
}
@media (hover:hover){
    .btn:hover{ transform: translateY(-1px); }
}

/* HERO */
.hero{
    padding: 84px 0 42px;
}
.hero__grid{
    display:grid;
    grid-template-columns: 1fr 1.1fr;
    gap: 26px;
    align-items: center;
}
.hero__top{
    background: rgba(255,255,255,.46);
    border: 1px solid rgba(22,19,15,.10);
    border-radius: var(--r-xl);
    padding: 28px;
    box-shadow: var(--shadowSoft);
    backdrop-filter: blur(10px);
}
.hero__names{
    font-family: var(--serif);
    font-weight: 700;
    font-size: clamp(42px, 5.9vw, 74px);
    letter-spacing: -0.02em;
    line-height: 1.02;
    color: rgba(22,19,15,.96);
}
.amp{ color: var(--gold); padding: 0 6px; }

.hero__meta{
    margin: 12px 0 0;
    display:flex;
    gap: 10px;
    align-items:center;
    color: rgba(22,19,15,.72);
    font-family: var(--serif);
    font-size: 18px;
}
.hero__metaSep{ opacity: .55; }

.hero__media{
    border-radius: var(--r-xl);
    min-height: 520px;
    box-shadow: var(--shadow);
    border: 1px solid rgba(255,255,255,.35);
    overflow: hidden;
    background: linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.20));
}

.hero__img{
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
    object-position: center;
    transform: scale(1.02); /* лёгкий “cinematic” */
}

@media (max-width: 980px){
    .hero__grid{ grid-template-columns: 1fr; }
    .hero__media{ min-height: 460px; }
}

/* mobile hero: 1 экран, четко */
@media (max-width: 720px){
    .hero{
        padding: 0;
        min-height: 100svh;
        display: flex;
        align-items: stretch;
    }
    .hero__grid{
        width: 100%;
        height: 100svh;
        grid-template-columns: 1fr;
        grid-template-rows: auto 1fr;
        gap: 12px;
        align-items: stretch;
        padding: 16px 0;
    }
    .hero__top{ padding: 18px; }
    .hero__media{
        min-height: 0;
        height: 100%;
    }
    .hero__names{ font-size: clamp(40px, 9vw, 54px); }
}

/* two columns */
.twoCol{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap: 18px;
    align-items: stretch;
}
@media (max-width: 900px){
    .twoCol{ grid-template-columns: 1fr; }
}
.photoCard{
    border-radius: var(--r-xl);
    background: center/cover no-repeat;
    box-shadow: var(--shadow);
    border: 1px solid rgba(255,255,255,.35);
    min-height: 420px;
}
.photoCard--tall{ min-height: 460px; }

.noteCard{
    border-radius: var(--r-xl);
    background: var(--card);
    border: 1px solid rgba(22,19,15,.10);
    box-shadow: var(--shadowSoft);
    padding: 26px;
    text-align: left;
    backdrop-filter: blur(10px);
}
.noteCard__title{
    font-family: var(--serif);
    font-weight: 700;
    margin: 0 0 10px;
    font-size: 20px;
}
.noteCard__text{
    margin: 0;
    color: rgba(22,19,15,.76);
    line-height: 1.9;
    font-size: 18px;
}
.divider{
    height: 1px;
    background: rgba(184,167,142,.38);
    margin: 18px 0;
}
.muted{ color: var(--muted); }

/* story tiles */
.grid4{
    display:grid;
    grid-template-columns: repeat(4, minmax(0,1fr));
    gap: 14px;
}
@media (max-width: 980px){
    .grid4{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 520px){
    .grid4{ grid-template-columns: 1fr; }
}
.tile{
    display:block;
    width:100%;
    padding: 0;
    border: 1px solid rgba(22,19,15,.10);
    border-radius: var(--r-lg);
    background: var(--card2);
    overflow: hidden;
    box-shadow: var(--shadowSoft);
    text-align: left;
    cursor: pointer;
}
.tile img{
    display:block;
    width: 100%;
    height: 240px;
    object-fit: cover;
    object-position: center;
    transition: transform .28s ease;
}
@media (max-width: 520px){
    .tile img{ height: 260px; }
}
.tile p{
    margin: 10px 12px 12px;
    font-size: 15px;
    color: rgba(22,19,15,.72);
    letter-spacing: .01em;
}
@media (hover:hover){
    .tile:hover img{ transform: scale(1.02); }
}

/* map */
.map-card{
    border-radius: var(--r-xl);
    overflow: hidden;
    background: var(--card);
    border: 1px solid rgba(22,19,15,.10);
    box-shadow: var(--shadow);
}
.map-frame{ position: relative; overflow: hidden; }
.map-frame iframe{
    display:block;
    width: 100%;
    height: 360px;
    border: 0;
}
.map-overlay{
    position: absolute;
    inset: 0;
    display: grid;
    place-content: center;
    gap: 6px;
    background: linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,.18));
    color: rgba(255,255,255,.96);
    border: 0;
    width: 100%;
    cursor: pointer;
}
.map-overlay__title{
    font-family: var(--serif);
    font-weight: 700;
    font-size: 22px;
}
.map-overlay__hint{
    font-size: 13px;
    opacity: .92;
}
.map-card.is-active .map-overlay{ display:none; }

.map-actions{
    display:flex;
    gap: 10px;
    flex-wrap: wrap;
    padding: 14px;
    border-top: 1px solid rgba(22,19,15,.08);
    background: rgba(255,255,255,.55);
}
@media (max-width: 520px){
    .map-frame iframe{ height: 320px; }
    .map-actions .btn{ width: 100%; }
}

/* timeline */
.timeline{
    display:grid;
    grid-template-columns: repeat(2, minmax(0,1fr));
    gap: 14px;
}
@media (max-width: 760px){
    .timeline{ grid-template-columns: 1fr; }
}
.tItem{
    display:flex;
    gap: 12px;
    align-items:center;
    padding: 14px;
    border-radius: var(--r-xl);
    background: var(--card);
    border: 1px solid rgba(22,19,15,.10);
    box-shadow: var(--shadowSoft);
}
.tIcon{
    width: 44px;
    height: 44px;
    border-radius: 999px;
    display:grid;
    place-items:center;
    background: linear-gradient(180deg, rgba(184,167,142,.28), rgba(255,255,255,.50));
    border: 1px solid rgba(184,167,142,.30);
}
.tTime{
    margin:0;
    font-weight: 800;
    letter-spacing: -0.02em;
    color: rgba(22,19,15,.90);
}
.tText{
    margin: 2px 0 0;
    color: var(--muted);
}

/* countdown */
.countdown{
    display:grid;
    grid-template-columns: repeat(4, minmax(0,1fr));
    gap: 12px;
    margin-top: 20px;
}
@media (max-width: 520px){
    .countdown{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
.cItem{
    background: var(--card);
    border: 1px solid rgba(22,19,15,.10);
    border-radius: var(--r-xl);
    box-shadow: var(--shadowSoft);
    padding: 14px 10px;
    text-align:center;
    display:grid;
    gap: 6px;
}
.cItem b{
    font-size: 28px;
    letter-spacing: -0.03em;
    color: rgba(22,19,15,.92);
}
.cItem span{
    font-size: 12px;
    color: var(--muted);
}

/* countdown photo with passepartout */
.countdown-photo{
    margin: 44px auto 0;
    padding: 22px;
    width: min(900px, 100%);
    background: rgba(255,255,255,.60);
    border-radius: calc(var(--r-xl) + 6px);
    border: 1px solid rgba(22,19,15,.10);
    box-shadow: var(--shadowSoft);
}
.countdown-photo::before{
    content:"";
    display:block;
    width:100%;
    height: 360px;
    border-radius: var(--r-xl);
    background:
            linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,.18)),
            url("./assets/countdown.webp") center/cover no-repeat;
}
@media (max-width: 520px){
    .countdown-photo::before{ height: 300px; }
}

/* gifts */
.giftCard{
    background: var(--card);
    border: 1px solid rgba(22,19,15,.10);
    border-radius: var(--r-xl);
    box-shadow: var(--shadowSoft);
    padding: 24px;
    max-width: 860px;
    margin: 0 auto;
    text-align: left;
}
.giftText{
    margin: 0 0 12px;
    line-height: 1.9;
    color: rgba(22,19,15,.76);
}
.giftNote{
    margin: 10px 0 0;
    color: var(--muted);
    font-style: italic;
}

/* contacts */
.contacts{
    display:grid;
    grid-template-columns: repeat(2, minmax(0,1fr));
    gap: 14px;
}
@media (max-width: 820px){
    .contacts{ grid-template-columns: 1fr; }
}
.person{
    background: var(--card);
    border: 1px solid rgba(22,19,15,.10);
    border-radius: var(--r-xl);
    box-shadow: var(--shadowSoft);
    padding: 18px;
    text-align: left;
    backdrop-filter: blur(10px);
}
.person__top{
    display:flex;
    align-items:center;
    gap: 12px;
    margin-bottom: 12px;
}
.monogram{
    width: 46px;
    height: 46px;
    border-radius: 999px;
    display:grid;
    place-items:center;
    font-family: var(--serif);
    font-weight: 800;
    color: rgba(22,19,15,.92);
    background: linear-gradient(180deg, rgba(184,167,142,.30), rgba(255,255,255,.62));
    border: 1px solid rgba(184,167,142,.35);
}
.person__name{
    margin:0;
    font-weight: 800;
    font-size: 16px;
    color: rgba(22,19,15,.92);
}
.person__hint{
    margin: 2px 0 0;
    color: var(--muted);
    font-size: 13px;
}
.person__rows{
    display:grid;
    gap: 10px;
    margin: 10px 0 14px;
}
.row{
    display:flex;
    justify-content: space-between;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 14px;
    background: rgba(255,255,255,.60);
    border: 1px solid rgba(22,19,15,.06);
}
.row__k{
    color: var(--muted);
    font-size: 13px;
}
.row__v{
    color: rgba(22,19,15,.90);
    font-weight: 700;
    text-decoration:none;
}
.row__v:hover{
    text-decoration: underline;
    text-decoration-color: rgba(22,19,15,.28);
    text-underline-offset: 3px;
}
.person__actions{
    display:flex;
    gap: 10px;
    flex-wrap: wrap;
}

/* final */
.final{
    padding: 86px 0 38px;
}
.final__card{
    border-radius: var(--r-xl);
    background:
            linear-gradient(180deg, rgba(184,167,142,.20), rgba(22,19,15,.38)),
            url("./assets/hero.webp") center/cover no-repeat;
    border: 1px solid rgba(255,255,255,.24);
    box-shadow: var(--shadow);
    padding: 38px 18px;
    text-align:center;
    color: rgba(255,255,255,.95);
}
.final__card h2{ color: rgba(255,255,255,.97); }
.final__card .lead{ color: rgba(255,255,255,.86); }

/* footer */
.footer{
    padding: 22px 0 40px;
}
.footer__inner{
    display:flex;
    justify-content:center;
    color: rgba(22,19,15,.56);
    font-size: 13px;
}

/* lightbox */
.lightbox{
    position: fixed;
    inset: 0;
    z-index: 10000;
    display: none;
}
.lightbox.is-open{ display:block; }

.lightbox__backdrop{
    position: absolute;
    inset: 0;
    background: rgba(10,10,10,.72);
    backdrop-filter: blur(6px);
}
.lightbox__panel{
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: min(980px, calc(100% - 28px));
    max-height: calc(100% - 28px);
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 24px 90px rgba(0,0,0,.45);
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.18);
    margin: 0;
}
.lightbox__img{
    display: block;
    width: 100%;
    height: auto;
    max-height: calc(100vh - 28px);
    object-fit: contain;
    background: rgba(0,0,0,.20);
}
.lightbox__close{
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.25);
    background: rgba(255,255,255,.12);
    color: rgba(255,255,255,.95);
    font-size: 26px;
    line-height: 1;
    cursor: pointer;
}

/* music button */
.music{
    position: fixed;
    right: 14px;
    bottom: 14px;
    z-index: 9999;
    border: 1px solid rgba(22,19,15,.10);
    background: rgba(255,255,255,.86);
    backdrop-filter: blur(10px);
    color: rgba(22,19,15,.92);
    border-radius: 999px;
    padding: 12px 14px;
    font-weight: 700;
    box-shadow: var(--shadow);
    cursor:pointer;
    transition: transform .15s ease;
}
.music:active{ transform: translateY(1px); }
.music--on{
    border-color: rgba(184,167,142,.55);
    background: linear-gradient(180deg, rgba(184,167,142,.26), rgba(255,255,255,.86));
}

:focus-visible{
    outline: 2px solid rgba(184,167,142,.75);
    outline-offset: 3px;
    border-radius: 10px;
}

@media (max-width: 720px){
    html{
        scroll-snap-type: y proximity;
    }

    header.hero,
    section.section,
    section.final{
        scroll-snap-align: start;
    }
}

/* ===== Film/Paper texture (subtle, premium) ===== */
:root{
    --filmOpacity: .07;
    --vignetteOpacity: .10;
    --paperFiberOpacity: .08;
}

/* Film grain overlay */
body::before{
    content:"";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    opacity: var(--filmOpacity);
    mix-blend-mode: multiply;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='240' height='240' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
}

/* Soft vignette */
body::after{
    content:"";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    opacity: var(--vignetteOpacity);
    background: radial-gradient(120% 120% at 50% 25%, transparent 45%, rgba(22,19,15,.45) 120%);
}

/* Make sure content is above overlays */
body > *{
    position: relative;
    z-index: 1;
}

/* Paper fiber on cards (very subtle) */
.hero__top,
.noteCard,
.tile,
.map-card,
.tItem,
.cItem,
.giftCard,
.person{
    position: relative;
    overflow: hidden;
}

.hero__top::after,
.noteCard::after,
.tile::after,
.map-card::after,
.tItem::after,
.cItem::after,
.giftCard::after,
.person::after{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    opacity: var(--paperFiberOpacity);
    mix-blend-mode: multiply;
    background-image:
            radial-gradient(circle at 20% 30%, rgba(0,0,0,.25) 0 1px, transparent 2px),
            radial-gradient(circle at 70% 60%, rgba(0,0,0,.18) 0 1px, transparent 2px),
            radial-gradient(circle at 40% 80%, rgba(0,0,0,.12) 0 1px, transparent 2px);
    background-size: 180px 180px;
}

/* ===== Day timeline (path) ===== */
.dayline{
    list-style: none;
    padding: 0;
    margin: 24px auto 0;
    max-width: 860px;
    position: relative;
}

.dayline::before{
    content:"";
    position:absolute;
    left: 22px;
    top: 8px;
    bottom: 8px;
    width: 2px;
    background: linear-gradient(180deg, rgba(184,167,142,.15), rgba(184,167,142,.65), rgba(184,167,142,.15));
    border-radius: 99px;
}

.dayline__item{
    position: relative;
    display: grid;
    grid-template-columns: 46px 1fr;
    gap: 12px;
    padding: 14px 0;
}

.dayline__dot{
    width: 16px;
    height: 16px;
    border-radius: 999px;
    margin-left: 14px;
    margin-top: 18px;
    background: linear-gradient(180deg, rgba(184,167,142,.85), rgba(164,142,111,.85));
    box-shadow: 0 10px 22px rgba(184,167,142,.25);
    border: 1px solid rgba(255,255,255,.45);
}

.dayline__card{
    background: var(--card);
    border: 1px solid rgba(22,19,15,.10);
    border-radius: var(--r-xl);
    box-shadow: var(--shadowSoft);
    padding: 16px 16px 14px;
}

.dayline__time{
    margin: 0;
    font-family: var(--serif);
    font-weight: 700;
    color: rgba(22,19,15,.92);
    letter-spacing: -0.02em;
    font-size: 18px;
}

.dayline__title{
    margin: 6px 0 0;
    font-weight: 800;
    color: rgba(22,19,15,.92);
}

.dayline__desc{
    margin: 6px 0 0;
    color: var(--muted);
    font-size: 15px;
    line-height: 1.75;
}